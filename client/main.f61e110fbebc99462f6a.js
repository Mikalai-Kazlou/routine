!function(){"use strict";var t={91:function(t){t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),e.hash&&(t+=e.hash),e.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(t)?'"'.concat(t,'"'):t):t}},215:function(t,e,n){t.exports=n.p+"assets/routine-favicon.png"},302:function(t,e,n){t.exports=n.p+"assets/rs_school.svg"}},e={};function n(s){var r=e[s];if(void 0!==r)return r.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,n),i.exports}n.m=t,n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t}(),n.b=document.baseURI||self.location.href,function(){var t=n(91),e=n.n(t),s=new URL(n(215),n.b),r=new URL(n(302),n.b);function i(t,e=document){return function(t,e=document){const n=e.querySelector(t);if(null===n)throw new Error("Ups! This element is not found!");return n}(`.${t}`,e)}e()(s),e()(r);var o=class{constructor(t,e){this.type=t,this.input=this.createInput(),this.errorBlock=this.createErrorBlock(),this.input.setAttribute("placeholder",e),this.errorText="Wrong value"}blurCheck(){this.input.value=this.input.value.trim();const t=this.isValueValid(this.input.value);return t||this.showError(),t}isValueValid(t){return!!t}inputCheck(){this.input.value=this.getCorrectValue(this.input.value),this.hideError()}getCorrectValue(t){return t}showError(t){this.errorBlock.innerHTML=this.errorText,t&&(this.errorBlock.innerHTML=t),this.errorBlock.classList.add("sign-form__input-error_active")}hideError(){this.errorBlock.classList.remove("sign-form__input-error_active")}createInput(){const t=document.createElement("input");return t.type=this.type,t.addEventListener("blur",(()=>this.blurCheck())),t.addEventListener("input",(()=>this.inputCheck())),t}createErrorBlock(){const t=document.createElement("span");return t.classList.add("sign-form__input-error"),t}draw(t,...e){this.input.classList.add("sign-form__input");const n=document.createElement("div");return n.classList.add("sign-form__input-box"),t&&n.classList.add(t),e.length>0&&e.forEach((t=>{this.input.classList.add(t)})),n.append(this.input,this.errorBlock),n}},a=class extends o{constructor(t){super("email",t),this.errorText="this is not email"}isValueValid(t){return/^[\w-.]+@[\w-]+\.[a-z]{2,4}$/i.test(t)}getCorrectValue(t){return t.slice(0,200)}},c=class extends o{constructor(t){super("password",t),this.errorText="from 4 characters",this.minValue=4}isValueValid(t){return t.length>=this.minValue}},u=class extends o{constructor(t){super("text",t),this.maxValue=50,this.minValue=2}isValueValid(t){return t.length>=this.minValue&&t.length<=this.maxValue}getCorrectValue(t){return t.slice(0,this.maxValue)}},l=class extends o{constructor(t,e){super("password",t),this.firstPass=e,this.errorText="password mismatch"}isValueValid(t){return t===this.firstPass.input.value}},d=class{constructor(t,e){this.name=t,this.goTo=e}getFilledPage(){const t=document.createElement("h1");return t.innerText=this.name,t}async draw(){const t=i("main__container");t.innerHTML="",t.append(this.getFilledPage())}},p=class extends d{constructor(t){super("Home page",t)}getFilledPage(){const t=document.createElement("h1");return t.innerText=this.name,t.addEventListener("click",(()=>(new class{constructor(){this.status="Sign In",this.nameInput=new u("Name"),this.firstPasswordInput=new c("Password"),this.secondPasswordInput=new l("Repeat password",this.firstPasswordInput),this.emailInput=new a("Email"),this.checkbox=this.makeCheckbox()}checkForm(){const t=this.emailInput.blurCheck(),e=this.firstPasswordInput.blurCheck();if("Sign In"===this.status)t&&e&&this.sendSignInForm();else{const n=this.nameInput.blurCheck(),s=this.secondPasswordInput.blurCheck();t&&e&&n&&s&&this.sendSignUpForm()}}sendSignInForm(){console.log("Email:",this.emailInput.input.value),console.log("Pass:",this.firstPasswordInput.input.value),console.log("Remember:",this.checkbox.checked)}sendSignUpForm(){console.log("Name:",this.nameInput.input.value),console.log("Email:",this.emailInput.input.value),console.log("Pass:",this.firstPasswordInput.input.value)}toggleFormClass(){const t=i("sign-form");t.classList.toggle("sign-form_sign-up"),t.classList.toggle("sign-form_sign-in")}toggleStatus(){switch(this.status){case"Sign In":this.status="Sign Up";break;case"Sign Up":this.status="Sign In"}}makeEmptyForm(){const t=document.createElement("div");return t.classList.add("sign-form","sign-form_sign-in"),t}makeTitle(t,e){const n=document.createElement("h1");return n.classList.add("sign-form__title",e),n.innerHTML=t,n}makeCheckbox(){const t=document.createElement("input");return t.type="checkbox",t.id="rememberMe",t}makeLabel(){const t=document.createElement("label");t.setAttribute("for","rememberMe"),t.classList.add("sign-form__label","sign-in-view");const e=document.createElement("div");e.classList.add("sign-form__big-o");const n=document.createElement("div");n.classList.add("sign-form__small-o"),e.append(n);const s=document.createElement("span");return s.innerHTML="Remember me",t.append(e,s),t}makeLink(t,e){const n=document.createElement("span");return n.innerText=t,n.addEventListener("click",(()=>{this.toggleStatus(),this.toggleFormClass()})),n.classList.add("sign-form__link",e),n}makeButton(){const t=document.createElement("button");t.classList.add("button","button_signIn","sign-form__button");const e=document.createElement("span");e.classList.add("sign-form__button-text","sign-in-view"),e.innerText="Sign In";const n=document.createElement("span");return n.classList.add("sign-form__button-text","sign-up-view"),n.innerText="Sign Up",t.append(e,n),t.addEventListener("click",(()=>this.checkForm())),t}makeForm(){const t=this.makeEmptyForm();return t.append(this.makeTitle("Sign In","sign-in-view"),this.makeTitle("Sign Up","sign-up-view"),this.nameInput.draw("sign-up-view"),this.emailInput.draw(),this.firstPasswordInput.draw("sign-password"),this.secondPasswordInput.draw("sign-up-view","sign-password"),this.checkbox,this.makeLabel(),this.makeLink("I need a new account","sign-in-view"),this.makeLink("I already have an account","sign-up-view"),this.makeButton()),t}draw(){const t=i("popup");t.append(this.makeForm()),setTimeout((()=>{t.classList.add("popup_show")}),0)}}).draw())),t}},h=class extends d{constructor(t){super("404 page",t)}getFilledPage(){const t=document.createElement("section"),e=document.createElement("h1");e.innerText=this.name,e.classList.add("page-404__title");const n=document.createElement("p");n.innerText="Sorry, didn't find that page...",n.classList.add("page-404__text");const s=document.createElement("button");return s.classList.add("button","button_main"),s.textContent="Home",s.addEventListener("click",(()=>this.goTo("/"))),t.append(e,n,s),t}},m=class extends d{constructor(t){super("Plan page",t)}};class g{constructor(){g.homePage=new p(this.goTo),g.planPage=new m(this.goTo),g.notFoundPage=new h(this.goTo)}static render(t){switch(t){case"/plan":g.planPage.draw();break;case"/":g.homePage.draw();break;default:g.notFoundPage.draw()}}goTo(t){window.history.pushState({pageName:t},t,t),g.render(t),window.scrollTo(0,0)}startRouter(){window.addEventListener("popstate",(()=>{g.render(new URL(window.location.href).pathname)}));const t=new URL(window.location.href).pathname;g.render(t)}}var w=g;class f{constructor(){this.router=new w}static clearPopup(t){const{target:e}=t;e instanceof EventTarget&&e.classList.contains("popup")&&(e.addEventListener("transitionend",(function(){e.innerHTML=""}),{once:!0}),e.classList.remove("popup_show"))}start(){this.router.startRouter(),i("popup").addEventListener("click",(function(t){f.clearPopup(t)}))}}(new f).start()}()}();